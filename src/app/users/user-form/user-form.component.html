<ngx-spinner type="ball-scale-multiple"></ngx-spinner>

<div class="container-fluid">
    <div class="row my-4 header-title">
        <h2>{{ isEdit ? 'Edit User' : 'Create User' }}</h2>
        <hr class="m-0">
    </div>
</div>
<div class="container">
    <div class="row my-4">
        <div class="col-md-12">
            <mat-card class=" my-0 mx-auto w-60per">
                <mat-card-content>
                    <form [formGroup]="UserForm" #UserFormDirective="ngForm"
                        (ngSubmit)="submitUserForm(UserFormDirective)">
                        <div class="d-flex flex-wrap">
                            <mat-form-field appearance="outline" class="user-form-field">
                                <mat-label>User Name</mat-label>
                                <input type="text" matInput formControlName="name">
                                <mat-error>User Name is required</mat-error>
                            </mat-form-field>
                            <mat-form-field appearance="outline" class="user-form-field">
                                <mat-label>Mobile No</mat-label>
                                <input type="number" matInput formControlName="mobile_number"
                                    onKeyPress="if(this.value.length==10) return false; return event.charCode >= 48 && event.charCode <= 57 ">
                                <mat-error>Mobile No is required</mat-error>
                            </mat-form-field>
                            <mat-form-field appearance="outline" class="user-form-field" style="width: 100%;">
                                <mat-label>Email</mat-label>
                                <input type="email" matInput formControlName="email">
                                <mat-error>Email is required</mat-error>
                                <!-- <mat-error *ngIf="UserForm.controls['email'].value == ''">Email is
                                    required</mat-error>
                                <mat-error
                                    *ngIf="UserForm.controls['email'].status == 'INVALID' && UserForm.controls['email'].value != '' && !UserForm.controls['email'].errors?.['userEmailExists']">
                                    Invalid Email Address</mat-error>
                                <mat-error *ngIf="UserForm.controls['email'].errors?.['userEmailExists'] && UserForm.controls['email'].errors?.['_id'] != userID">Email
                                    Already Exist
                                </mat-error> -->
                            </mat-form-field>

                            <mat-form-field appearance="outline" class="user-form-field">
                                <mat-label>Password</mat-label>
                                <input [type]="showPassword ? 'text' : 'password'" name="password" matInput required
                                    formControlName="password">
                                <mat-icon matSuffix (click)="togglePasswordVisibility('password')">
                                    {{showPassword?'visibility':'visibility_off'}}</mat-icon>
                                <mat-error
                                    *ngIf="UserForm.controls['password'].hasError('minlength') && !UserForm.controls['password'].hasError('required')">
                                    Minimum password length is 6</mat-error>
                                <mat-error *ngIf="UserForm.controls['password'].hasError('required')">Password is
                                    required
                                </mat-error>
                            </mat-form-field>
                            <mat-form-field appearance="outline" class="user-form-field">
                                <mat-label>Confirm Password</mat-label>
                                <input [type]="showConfirmPassword ? 'text' : 'password'" name="password" matInput
                                    formControlName="confirm_password">
                                <mat-icon matSuffix (click)="togglePasswordVisibility('confirm_password')">
                                    {{showConfirmPassword?'visibility':'visibility_off'}}</mat-icon>
                                <mat-error *ngIf="UserForm.controls['confirm_password'].value == ''">Confirm
                                    Password is required
                                </mat-error>
                                <mat-error
                                    *ngIf="UserForm.controls['confirm_password'].value != '' && UserForm.controls['confirm_password'].errors?.['MatchPassword']">
                                    Password does not match</mat-error>
                            </mat-form-field>
                        </div>
                        <mat-card-actions class="justify-content-center userform-card-actions">
                            <div class="">
                                <button type="submit" mat-raised-button class="userfrom-sub-btn text-white">Submit</button>
                            </div>
                        </mat-card-actions>
                    </form>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</div>